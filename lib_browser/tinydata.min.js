(function(){if(!this.require){var t={},e={},n=function(o,s){var a,_=i(s,o),c=e[_];if(c)return c.exports;if(!(a=t[_]||t[_=i(_,"./index")]))throw"module '"+o+"' not found";c={id:_,exports:{}};try{return e[_]=c,a(c.exports,function(t){return n(t,r(_))},c),c.exports}catch(u){throw delete e[_],u}},i=function(t,e){var n,i,r=[];n=/^\.\.?(\/|$)/.test(e)?[t,e].join("/").split("/"):e.split("/");for(var o=0,s=n.length;s>o;o++)i=n[o],".."==i?r.pop():"."!=i&&""!=i&&r.push(i);return r.join("/")},r=function(t){return t.split("/").slice(0,-1).join("/")};this.require=function(t){return n(t,"")},this.require.define=function(e){for(var n in e)t[n]=e[n]}}return this.require.define}).call(this)({tinydata:function(t,e,n){(function(){var t,i,r,o=[].slice;i=null!=(r=this._)?r:e("underscore"),t=function(){function t(t,e){var n;this._original_obj_=null!=t?t:{},this._rpath_=e,null==(n=this._rpath_)&&(this._rpath_="^([^.]+\\.)([^.]+)$"),this._secondary_index_={},this._stringifyed_object_=[],this._state_convergence_={},this._changeStateFlags(!1,"stringifyed_object","secondary_index")}return t.prototype.setOriginalObject=function(t){return null==t&&(t={}),this._original_obj_=t,this._changeStateFlags(!1,"stringifyed_object","secondary_index"),this},t.prototype.getOriginalObject=function(){return this._original_obj_},t.prototype.getSecondaryIndex=function(){return this._synchronizeState(),this._secondary_index_},t.prototype.setRpath=function(t){return this._rpath_=t,this._changeStateFlags(!1,"secondary_index"),this},t.prototype.getRpath=function(){return this._rpath_},t.prototype.getStringifyedObject=function(){return this._synchronizeState(),this._stringifyed_object_},t.prototype.getOriginFor=function(t){return this._synchronizeState(),this._secondary_index_[t]},t.prototype._synchronizeState=function(){return this._getStateFlag("stringifyed_object")||(this._stringifyed_object_=this._doStringify(this._original_obj_),this._changeStateFlags(!0,"stringifyed_object")),this._getStateFlag("secondary_index")||(this._secondary_index_=this._makeSecondaryIndex(this._stringifyed_object_,this._rpath_),this._changeStateFlags(!0,"secondary_index")),null},t.prototype._makeSecondaryIndex=function(t,e){var n,i,r,o,s,a,_,c,u,h;for(s={},n=RegExp(e),_=0,c=t.length;c>_;_++)i=t[_],(o=i.match(n))&&(u=[o[2],o[1].slice(0,-1)],r=u[0],a=u[1],null==(h=s[r])&&(s[r]=[]),s[r].push(a));return s},t.prototype._doStringify=function(t,e,n){var r,o=this;switch(null==e&&(e=""),null==n&&(n=[]),r=this._getItType(t)){case"PLAIN":n.push(""+e+t);break;case"ARRAY":case"HASH":i.each(t,function(t,i){return o._doStringify(t,""+e+i+".",n)});break;default:"undefined"!=typeof console&&null!==console&&console.warn("don`t want stringify "+r+" |"+t+"|")}return n},t.prototype._getItType=function(t){return i.isArray(t)?"ARRAY":i.isString(t)||i.isNumber(t)||i.isBoolean(t)||i.isNull(t)?"PLAIN":!i.isObject(t)||i.isFunction(t)||i.isRegExp(t)||i.isDate(t)||i.isArguments(t)?"OTHER":"HASH"},t.prototype._changeStateFlags=function(){var t,e,n=this;return e=arguments[0],t=arguments.length>=2?o.call(arguments,1):[],i.each(t,function(t){return n._state_convergence_[t]=e}),null},t.prototype._getStateFlag=function(t){return this._state_convergence_[t]},t}(),n.exports=t}).call(this)}});